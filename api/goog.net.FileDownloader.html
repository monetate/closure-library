<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>goog.net.FileDownloader</title><link href="dossier.css" rel="stylesheet" type="text/css"><script src="types.js" defer></script><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="dossier-main"><main data-page-data="[null,[[[&quot;goog.net.FileDownloader&quot;,null,null,null,[null,66,null,[null,null,&quot;closure/goog/net/filedownloader.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/net/filedownloader.js#L66&quot;]],[[[&quot;FileDownloader.Download_&quot;,null,[[[null,&quot;&lt;p&gt;A struct containing the data for a single download.&lt;/p&gt;\n&quot;]]],null,[null,null,&quot;goog.net.FileDownloader.Download_.html&quot;]],[&quot;FileDownloader.Error&quot;,null,[[[null,&quot;&lt;p&gt;The error object for FileDownloader download errors.&lt;/p&gt;\n&quot;]]],null,[null,null,&quot;goog.net.FileDownloader.Error.html&quot;]]],[],[]],[[[null,&quot;&lt;p&gt;A class for downloading remote files and storing them locally using the\nHTML5 filesystem API.&lt;/p&gt;\n&quot;]]],[null,null,null,1],null,[],null,[],[],[[&quot;FileDownloader&quot;,[null,66,null,[null,null,&quot;closure/goog/net/filedownloader.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/net/filedownloader.js#L66&quot;]],[[[null,&quot;&lt;p&gt;A class for downloading remote files and storing them locally using the\nHTML5 filesystem API.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],1,[[&quot;dir&quot;,[null,null,null,[&quot;goog.fs.DirectoryEntry&quot;,null,[null,null,[null,null,&quot;goog.fs.DirectoryEntry.html&quot;]],null,[]]],[[[null,&quot;&lt;p&gt;The directory in which the downloaded\nfiles are stored. This directory should be solely managed by\nFileDownloader.&lt;/p&gt;\n&quot;]]]],[&quot;opt_pool&quot;,[1,null,null,null,null,[[[null,null,null,[&quot;goog.net.XhrIoPool&quot;,null,[null,null,[null,null,&quot;goog.net.XhrIoPool.html&quot;]],null,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[[[null,&quot;&lt;p&gt;The pool of XhrIo objects to use for\ndownloading files.&lt;/p&gt;\n&quot;]]]]],null,[]],[[[&quot;addOnDisposeCallback&quot;,[null,221,null,[null,null,&quot;closure/goog/disposable/disposable.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/disposable/disposable.js#L221&quot;]],[[[null,&quot;&lt;p&gt;Invokes a callback function when this object is disposed. Callbacks are\ninvoked in the order in which they were added. If a callback is added to\nan already disposed Disposable, it will be called immediately.&lt;/p&gt;\n&quot;]]],null,null,null,[&quot;goog.Disposable&quot;,null,[null,null,[null,null,&quot;goog.Disposable.html#addOnDisposeCallback&quot;]],null,[]],null,[],[]],[&quot;T&quot;],null,[[&quot;callback&quot;,[null,null,[null,[null,null,null,null,null,[[[null,null,null,[&quot;T&quot;,null,null,null,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[],[null,null,null,null,null,null,null,1]]],[[[null,&quot;&lt;p&gt;The callback function.&lt;/p&gt;\n&quot;]]]],[&quot;opt_scope&quot;,[1,null,null,null,null,[[[null,null,null,[&quot;T&quot;,null,null,null,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[[[null,&quot;&lt;p&gt;An optional scope to call the callback in.&lt;/p&gt;\n&quot;]]]]],null,[]],[[&quot;dispose&quot;,[null,42,null,[null,null,&quot;closure/goog/disposable/idisposable.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/disposable/idisposable.js#L42&quot;]],[[[null,&quot;&lt;p&gt;Disposes of the object and its resources.&lt;/p&gt;\n&quot;]]],null,null,null,null,[&quot;goog.Disposable&quot;,null,[null,null,[null,null,&quot;goog.Disposable.html#dispose&quot;]],null,[]],[[&quot;goog.disposable.IDisposable&quot;,null,[null,null,[null,null,&quot;goog.disposable.IDisposable.html#dispose&quot;]],null,[]]],[]],[],null,[],[null,null,[[[null,&quot;&lt;p&gt;Nothing.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;disposeInternal&quot;,[null,624,null,[null,null,&quot;closure/goog/net/filedownloader.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/net/filedownloader.js#L624&quot;]],[[[null,&quot;&lt;p&gt;Performs appropriate cleanup. See description of goog.disposable.IDisposable\nfor examples. Classes that extend &lt;code&gt;goog.Disposable&lt;/code&gt; should override this\nmethod. Not reentrant. To avoid calling it twice, it must only be called from\nthe subclass&amp;#39; &lt;code&gt;disposeInternal&lt;/code&gt; method. Everywhere else the public &lt;code&gt;dispose&lt;/code&gt;\nmethod must be used. For example:&lt;/p&gt;\n &lt;pre&gt;\n mypackage.MyClass &amp;#61; function() {\n mypackage.MyClass.base(this, &amp;#39;constructor&amp;#39;);\n     // Constructor logic specific to MyClass.\n     ...\n   };\n   goog.inherits(mypackage.MyClass, goog.Disposable);\n\n   mypackage.MyClass.prototype.disposeInternal &amp;#61; function() {\n     // Dispose logic specific to MyClass.\n     ...\n     // Call superclass&amp;#39;s disposeInternal at the end of the subclass&amp;#39;s, like\n     // in C&amp;#43;&amp;#43;, to avoid hard-to-catch issues.\n     mypackage.MyClass.base(this, &amp;#39;disposeInternal&amp;#39;);\n   };\n &lt;/pre&gt;\n&quot;]]],null,null,null,null,[&quot;goog.Disposable&quot;,null,[null,null,[null,null,&quot;goog.Disposable.html#disposeInternal&quot;]],null,[]],[],[],[null,1]],[],null,[],null,[]],[[&quot;download&quot;,[null,123,null,[null,null,&quot;closure/goog/net/filedownloader.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/net/filedownloader.js#L123&quot;]],[[[null,&quot;&lt;p&gt;Download a remote file and save its contents to the filesystem. A given file\nis uniquely identified by its URL string; this means that the relative and\nabsolute URLs for a single file are considered different for the purposes of\nthe FileDownloader.&lt;/p&gt;\n&lt;p&gt;Returns a Deferred that will contain the downloaded blob. If there&amp;#39;s an error\nwhile downloading the URL, this Deferred will be passed the\n&lt;a href=\&quot;goog.net.FileDownloader.Error.html\&quot;&gt;&lt;code&gt;goog.net.FileDownloader.Error&lt;/code&gt;&lt;/a&gt; object as an errback.&lt;/p&gt;\n&lt;p&gt;If a download is already in progress for the given URL, this will return the\ndeferred blob for that download. If the URL has already been downloaded, this\nwill fail once it tries to save the downloaded blob.&lt;/p&gt;\n&lt;p&gt;When a download is in progress, all Deferreds returned for that download will\nbe branches of a single parent. If all such branches are cancelled, or if one\nis cancelled with opt_deepCancel set, then the download will be cancelled as\nwell.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;url&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;The URL of the file to download.&lt;/p&gt;\n&quot;]]]]],[null,[null,null,null,[&quot;goog.async.Deferred&quot;,null,[null,null,[null,null,&quot;goog.async.Deferred.html&quot;]],null,[]]],[[[null,&quot;&lt;p&gt;The deferred result blob.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;getDisposed&quot;,[null,158,null,[null,null,&quot;closure/goog/disposable/disposable.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/disposable/disposable.js#L158&quot;]],[[]],[[[null,&quot;&lt;p&gt;Use &lt;a href=\&quot;goog.net.FileDownloader.html#isDisposed\&quot;&gt;&lt;code&gt;#isDisposed&lt;/code&gt;&lt;/a&gt; instead.&lt;/p&gt;\n&quot;]]],null,[null,1],[&quot;goog.Disposable&quot;,null,[null,null,[null,null,&quot;goog.Disposable.html#getDisposed&quot;]],null,[]],null,[],[]],[],null,[],[null,[null,null,null,[&quot;boolean&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;Whether the object has been disposed of.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;getDownloadedBlob&quot;,[null,182,null,[null,null,&quot;closure/goog/net/filedownloader.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/net/filedownloader.js#L182&quot;]],[[[null,&quot;&lt;p&gt;Load a downloaded blob from the filesystem. Will fire a deferred error if the\ngiven URL has not yet been downloaded.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;url&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;The URL of the blob to load.&lt;/p&gt;\n&quot;]]]]],[null,[null,null,null,[&quot;goog.async.Deferred&quot;,null,[null,null,[null,null,&quot;goog.async.Deferred.html&quot;]],null,[]]],[[[null,&quot;&lt;p&gt;The deferred Blob object. The callback will be\npassed the blob. If a file API error occurs while loading the blob, that\nerror will be passed to the errback.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;getLocalUrl&quot;,[null,208,null,[null,null,&quot;closure/goog/net/filedownloader.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/net/filedownloader.js#L208&quot;]],[[[null,&quot;&lt;p&gt;Get the local filesystem: URL for a downloaded file. This is different from\nthe blob: URL that&amp;#39;s available from getDownloadedBlob(). If the end user\naccesses the filesystem: URL, the resulting file&amp;#39;s name will be determined by\nthe download filename as opposed to an arbitrary GUID. In addition, the\nfilesystem: URL is connected to a filesystem location, so if the download is\nremoved then that URL will become invalid.&lt;/p&gt;\n&lt;p&gt;Warning: in Chrome 12, some filesystem: URLs are opened inline. This means\nthat e.g. HTML pages given to the user via filesystem: URLs will be opened\nand processed by the browser.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;url&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;The URL of the file to get the URL of.&lt;/p&gt;\n&quot;]]]]],[null,[null,null,null,[&quot;goog.async.Deferred&quot;,null,[null,null,[null,null,&quot;goog.async.Deferred.html&quot;]],null,[]]],[[[null,&quot;&lt;p&gt;The deferred filesystem: URL. The callback\nwill be passed the URL. If a file API error occurs while loading the\nblob, that error will be passed to the errback.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;isDisposed&quot;,[null,48,null,[null,null,&quot;closure/goog/disposable/idisposable.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/disposable/idisposable.js#L48&quot;]],[[]],null,null,null,null,[&quot;goog.Disposable&quot;,null,[null,null,[null,null,&quot;goog.Disposable.html#isDisposed&quot;]],null,[]],[[&quot;goog.disposable.IDisposable&quot;,null,[null,null,[null,null,&quot;goog.disposable.IDisposable.html#isDisposed&quot;]],null,[]]],[]],[],null,[],[null,[null,null,null,[&quot;boolean&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;Whether the object has been disposed of.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;isDownloaded&quot;,[null,227,null,[null,null,&quot;closure/goog/net/filedownloader.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/net/filedownloader.js#L227&quot;]],[[[null,&quot;&lt;p&gt;Return (deferred) whether or not a URL has been downloaded. Will fire a\ndeferred error if something goes wrong when determining this.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;url&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;The URL to check.&lt;/p&gt;\n&quot;]]]]],[null,[null,null,null,[&quot;goog.async.Deferred&quot;,null,[null,null,[null,null,&quot;goog.async.Deferred.html&quot;]],null,[]]],[[[null,&quot;&lt;p&gt;The deferred boolean. The callback will be\npassed the boolean. If a file API error occurs while checking the\nexistence of the downloaded URL, that error will be passed to the\nerrback.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;isDownloading&quot;,[null,167,null,[null,null,&quot;closure/goog/net/filedownloader.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/net/filedownloader.js#L167&quot;]],[[[null,&quot;&lt;p&gt;Returns whether or not there is an active download for a given URL.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;url&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;The URL of the download to check.&lt;/p&gt;\n&quot;]]]]],[null,[null,null,null,[&quot;boolean&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;Whether or not there is an active download for the URL.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;registerDisposable&quot;,[null,207,null,[null,null,&quot;closure/goog/disposable/disposable.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/disposable/disposable.js#L207&quot;]],[[[null,&quot;&lt;p&gt;Associates a disposable object with this object so that they will be disposed\ntogether.&lt;/p&gt;\n&quot;]]],null,null,null,[&quot;goog.Disposable&quot;,null,[null,null,[null,null,&quot;goog.Disposable.html#registerDisposable&quot;]],null,[]],null,[],[]],[],null,[[&quot;disposable&quot;,[null,null,null,null,null,[[[null,null,null,[&quot;goog.disposable.IDisposable&quot;,null,[null,null,[null,null,&quot;goog.disposable.IDisposable.html&quot;]],null,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[[[null,&quot;&lt;p&gt;that will be disposed when\nthis object is disposed.&lt;/p&gt;\n&quot;]]]]],null,[]],[[&quot;remove&quot;,[null,258,null,[null,null,&quot;closure/goog/net/filedownloader.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/net/filedownloader.js#L258&quot;]],[[[null,&quot;&lt;p&gt;Remove a URL from the FileDownloader.&lt;/p&gt;\n&lt;p&gt;This returns a Deferred. If the removal is completed successfully, its\ncallback will be called without any value. If the removal fails, its errback\nwill be called with the &lt;a href=\&quot;goog.fs.Error.html\&quot;&gt;&lt;code&gt;goog.fs.Error&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;url&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;The URL to remove.&lt;/p&gt;\n&quot;]]]]],[null,[null,null,null,[&quot;goog.async.Deferred&quot;,null,[null,null,[null,null,&quot;goog.async.Deferred.html&quot;]],null,[]]],[[[null,&quot;&lt;p&gt;The deferred used for registering callbacks on\nsuccess or on error.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;setBlob&quot;,[null,288,null,[null,null,&quot;closure/goog/net/filedownloader.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/net/filedownloader.js#L288&quot;]],[[[null,&quot;&lt;p&gt;Save a blob for a given URL. This works just as through the blob were\ndownloaded form that URL, except you specify the blob and no HTTP request is\nmade.&lt;/p&gt;\n&lt;p&gt;If the URL is currently being downloaded, it&amp;#39;s indeterminate whether the blob\nbeing set or the blob being downloaded will end up in the filesystem.\nWhichever one doesn&amp;#39;t get saved will have an error. To ensure that one or the\nother takes precedence, use &lt;a href=\&quot;goog.net.FileDownloader.html#waitForDownload\&quot;&gt;&lt;code&gt;#waitForDownload&lt;/code&gt;&lt;/a&gt; to allow the download to\ncomplete before setting the blob.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;url&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;The URL at which to set the blob.&lt;/p&gt;\n&quot;]]]],[&quot;blob&quot;,[null,null,null,[&quot;Blob&quot;,null,null,null,[]]],[[[null,&quot;&lt;p&gt;The blob to set.&lt;/p&gt;\n&quot;]]]],[&quot;opt_name&quot;,[1,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;The name of the file. If this isn&amp;#39;t given, it&amp;#39;s\ndetermined from the URL.&lt;/p&gt;\n&quot;]]]]],[null,[null,null,null,[&quot;goog.async.Deferred&quot;,null,[null,null,[null,null,&quot;goog.async.Deferred.html&quot;]],null,[]]],[[[null,&quot;&lt;p&gt;The deferred used for registering callbacks on\nsuccess or on error. This can be cancelled just like a &lt;a href=\&quot;goog.net.FileDownloader.html#download\&quot;&gt;&lt;code&gt;#download&lt;/code&gt;&lt;/a&gt;\nDeferred. The objects passed to the errback will be\n&lt;a href=\&quot;goog.net.FileDownloader.Error.html\&quot;&gt;&lt;code&gt;goog.net.FileDownloader.Error&lt;/code&gt;&lt;/a&gt;s.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;waitForDownload&quot;,[null,146,null,[null,null,&quot;closure/goog/net/filedownloader.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/net/filedownloader.js#L146&quot;]],[[[null,&quot;&lt;p&gt;Return a Deferred that will fire once no download is active for a given URL.\nIf there&amp;#39;s no download active for that URL when this is called, the deferred\nwill fire immediately; otherwise, it will fire once the download is complete,\nwhether or not it succeeds.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;url&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;The URL of the download to wait for.&lt;/p&gt;\n&quot;]]]]],[null,[null,null,null,[&quot;goog.async.Deferred&quot;,null,[null,null,[null,null,&quot;goog.async.Deferred.html&quot;]],null,[]]],[[[null,&quot;&lt;p&gt;The Deferred that will fire when the download\nis complete.&lt;/p&gt;\n&quot;]]]],[]]],[[[&quot;creationStack&quot;,[null,37,null,[null,null,&quot;closure/goog/disposable/disposable.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/disposable/disposable.js#L37&quot;]],[[[null,&quot;&lt;p&gt;If monitoring the goog.Disposable instances is enabled, stores the creation\nstack trace of the Disposable instance.&lt;/p&gt;\n&quot;]]],null,null,null,[&quot;goog.Disposable&quot;,null,[null,null,[null,null,&quot;goog.Disposable.html#creationStack&quot;]],null,[]],null,[],[]],[null,null,null,null,null,[[[null,null,null,[&quot;string&quot;,null,null,1,[]]],[null,null,null,null,null,null,null,null,1]]]]]],null,[[&quot;goog.Disposable&quot;,null,[null,null,[null,null,&quot;goog.Disposable.html&quot;]],null,[]]],[[&quot;goog.disposable.IDisposable&quot;,null,[null,null,[null,null,&quot;goog.disposable.IDisposable.html&quot;]],null,[]]],[],[[&quot;goog.net.FileDownloader&quot;,null,[null,null,[null,null,&quot;goog.net.FileDownloader.html&quot;]],null,[]],null,null,1],null,&quot;goog.net.FileDownloader.html&quot;,&quot;goog.net.FileDownloader&quot;,[],[],[],[]]]]]"></main><footer><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></footer></div><script src="dossier.js" defer></script>