<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>goog.testing.PropertyReplacer</title><link href="dossier.css" rel="stylesheet" type="text/css"><script src="types.js" defer></script><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="dossier-main"><main data-page-data="[null,[[[&quot;goog.testing.PropertyReplacer&quot;,null,null,null,[null,61,null,[null,null,&quot;closure/goog/testing/propertyreplacer.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/testing/propertyreplacer.js#L61&quot;]],null,[[[null,&quot;&lt;p&gt;Helper class for stubbing out variables and object properties for unit tests.\nThis class can change the value of some variables before running the test\ncases, and to reset them in the tearDown phase.\nSee googletest.StubOutForTesting as an analogy in Python:\nhttp://protobuf.googlecode.com/svn/trunk/python/stubout.py&lt;/p&gt;\n&lt;p&gt;Example usage:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; var stubs &amp;#61; new goog.testing.PropertyReplacer();\n\n function setUp() {\n   // Mock functions used in all test cases.\n   stubs.replace(Math, &amp;#39;random&amp;#39;, function() {\n     return 4;  // Chosen by fair dice roll. Guaranteed to be random.\n   });\n }\n\n function tearDown() {\n   stubs.reset();\n }\n\n function testThreeDice() {\n   // Mock a constant used only in this test case.\n   stubs.set(goog.global, &amp;#39;DICE_COUNT&amp;#39;, 3);\n   assertEquals(12, rollAllDice());\n }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Constraints on altered objects:&lt;/p&gt;\n &lt;ul&gt;&lt;li&gt;DOM subclasses aren&amp;#39;t supported.\n   &lt;/li&gt;&lt;li&gt;The value of the objects&amp;#39; constructor property must either be equal to\n       the real constructor or kept untouched.\n &lt;/li&gt;&lt;/ul&gt;\n&lt;p&gt;Code compiled with property renaming may need to use\n&lt;code&gt;goog.reflect.objectProperty&lt;/code&gt; instead of simply naming the property to\nreplace.&lt;/p&gt;\n&quot;]]],[null,null,null,1],null,[],null,[],[],[[&quot;PropertyReplacer&quot;,[null,61,null,[null,null,&quot;closure/goog/testing/propertyreplacer.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/testing/propertyreplacer.js#L61&quot;]],[[[null,&quot;&lt;p&gt;Helper class for stubbing out variables and object properties for unit tests.\nThis class can change the value of some variables before running the test\ncases, and to reset them in the tearDown phase.\nSee googletest.StubOutForTesting as an analogy in Python:\nhttp://protobuf.googlecode.com/svn/trunk/python/stubout.py&lt;/p&gt;\n&lt;p&gt;Example usage:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt; var stubs &amp;#61; new goog.testing.PropertyReplacer();\n\n function setUp() {\n   // Mock functions used in all test cases.\n   stubs.replace(Math, &amp;#39;random&amp;#39;, function() {\n     return 4;  // Chosen by fair dice roll. Guaranteed to be random.\n   });\n }\n\n function tearDown() {\n   stubs.reset();\n }\n\n function testThreeDice() {\n   // Mock a constant used only in this test case.\n   stubs.set(goog.global, &amp;#39;DICE_COUNT&amp;#39;, 3);\n   assertEquals(12, rollAllDice());\n }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Constraints on altered objects:&lt;/p&gt;\n &lt;ul&gt;&lt;li&gt;DOM subclasses aren&amp;#39;t supported.\n   &lt;/li&gt;&lt;li&gt;The value of the objects&amp;#39; constructor property must either be equal to\n       the real constructor or kept untouched.\n &lt;/li&gt;&lt;/ul&gt;\n&lt;p&gt;Code compiled with property renaming may need to use\n&lt;code&gt;goog.reflect.objectProperty&lt;/code&gt; instead of simply naming the property to\nreplace.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],1,[],null,[]],[[[&quot;remove&quot;,[null,276,null,[null,null,&quot;closure/goog/testing/propertyreplacer.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/testing/propertyreplacer.js#L276&quot;]],[[[null,&quot;&lt;p&gt;Deletes the key from the object while saving its original value.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;obj&quot;,[null,null,null,null,null,[[[null,null,null,[&quot;Object&quot;,null,null,1,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[[[null,&quot;&lt;p&gt;The JavaScript or native object or function to\nalter. See the constraints in the class description.&lt;/p&gt;\n&quot;]]]],[&quot;key&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;The key to delete.&lt;/p&gt;\n&quot;]]]]],null,[]],[[&quot;replace&quot;,[null,221,null,[null,null,&quot;closure/goog/testing/propertyreplacer.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/testing/propertyreplacer.js#L221&quot;]],[[[null,&quot;&lt;p&gt;Changes an existing value in an object to another one of the same type while\nsaving its original state. The advantage of &lt;code&gt;replace&lt;/code&gt; over &lt;a href=\&quot;goog.testing.PropertyReplacer.html#set\&quot;&gt;&lt;code&gt;#set&lt;/code&gt;&lt;/a&gt;\nis that &lt;code&gt;replace&lt;/code&gt; protects against typos and erroneously passing tests\nafter some members have been renamed during a refactoring.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;obj&quot;,[null,null,null,null,null,[[[null,null,null,[&quot;Object&quot;,null,null,1,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[[[null,&quot;&lt;p&gt;The JavaScript or native object or function to\nalter. See the constraints in the class description.&lt;/p&gt;\n&quot;]]]],[&quot;key&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;The key to change the value for. It has to be present\neither in &lt;code&gt;obj&lt;/code&gt; or in its prototype chain.&lt;/p&gt;\n&quot;]]]],[&quot;value&quot;,[null,null,null,null,null,null,1],[[[null,&quot;&lt;p&gt;The new value to set.&lt;/p&gt;\n&quot;]]]],[&quot;opt_allowNullOrUndefined&quot;,[1,null,null,[&quot;boolean&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;By default, this method requires\n&lt;code&gt;value&lt;/code&gt; to match the type of the existing value, as determined by\n&lt;a href=\&quot;goog.html#typeOf\&quot;&gt;&lt;code&gt;goog.typeOf&lt;/code&gt;&lt;/a&gt;. Setting opt_allowNullOrUndefined to &lt;code&gt;true&lt;/code&gt;\nallows an existing value to be replaced by &lt;code&gt;null&lt;/code&gt; or\n&lt;code&gt;undefined&lt;/code&gt;, or vice versa.&lt;/p&gt;\n&quot;]]]]],null,[[null,[null,null,null,null,null,[[[null,null,null,[&quot;Error&quot;,null,null,1,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[[[null,&quot;&lt;p&gt;In case of missing key or type mismatch.&lt;/p&gt;\n&quot;]]]]]],[[&quot;reset&quot;,[null,309,null,[null,null,&quot;closure/goog/testing/propertyreplacer.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/testing/propertyreplacer.js#L309&quot;]],[[[null,&quot;&lt;p&gt;Resets all changes made by goog.testing.PropertyReplacer.prototype.set.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[],null,[]],[[&quot;restore&quot;,[null,292,null,[null,null,&quot;closure/goog/testing/propertyreplacer.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/testing/propertyreplacer.js#L292&quot;]],[[[null,&quot;&lt;p&gt;Restore the original state of key in an object.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;obj&quot;,[null,null,null,[&quot;Object&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;The JavaScript or native object whose state\nshould be restored.&lt;/p&gt;\n&quot;]]]],[&quot;key&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;The key to restore the original value for.&lt;/p&gt;\n&quot;]]]]],null,[[null,[null,null,null,null,null,[[[null,null,null,[&quot;Error&quot;,null,null,1,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[[[null,&quot;&lt;p&gt;In case the object/key pair hadn&amp;#39;t been modified earlier.&lt;/p&gt;\n&quot;]]]]]],[[&quot;set&quot;,[null,183,null,[null,null,&quot;closure/goog/testing/propertyreplacer.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/testing/propertyreplacer.js#L183&quot;]],[[[null,&quot;&lt;p&gt;Adds or changes a value in an object while saving its original state.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;obj&quot;,[null,null,null,null,null,[[[null,null,null,[&quot;Object&quot;,null,null,1,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[[[null,&quot;&lt;p&gt;The JavaScript or native object or function to\nalter. See the constraints in the class description.&lt;/p&gt;\n&quot;]]]],[&quot;key&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;The key to change the value for.&lt;/p&gt;\n&quot;]]]],[&quot;value&quot;,[null,null,null,null,null,null,1],[[[null,&quot;&lt;p&gt;The new value to set.&lt;/p&gt;\n&quot;]]]]],null,[[null,[null,null,null,null,null,[[[null,null,null,[&quot;Error&quot;,null,null,1,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[[[null,&quot;&lt;p&gt;In case of trying to set a read-only property.&lt;/p&gt;\n&quot;]]]]]],[[&quot;setPath&quot;,[null,251,null,[null,null,&quot;closure/goog/testing/propertyreplacer.js&quot;],[null,null,&quot;https://github.com/google/closure-library/blob/master/closure/goog/testing/propertyreplacer.js#L251&quot;]],[[[null,&quot;&lt;p&gt;Builds an object structure for the provided namespace path.  Doesn&amp;#39;t\noverwrite those prefixes of the path that are already objects or functions.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;path&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;The path to create or alter, e.g. &amp;#39;goog.ui.Menu&amp;#39;.&lt;/p&gt;\n&quot;]]]],[&quot;value&quot;,[null,null,null,null,null,null,1],[[[null,&quot;&lt;p&gt;The value to set.&lt;/p&gt;\n&quot;]]]]],null,[]]],[],null,[],[],[],[[&quot;goog.testing.PropertyReplacer&quot;,null,[null,null,[null,null,&quot;goog.testing.PropertyReplacer.html&quot;]],null,[]],null,null,1],null,&quot;goog.testing.PropertyReplacer.html&quot;,&quot;goog.testing.PropertyReplacer&quot;,[],[],[],[]]]]]"></main><footer><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></footer></div><script src="dossier.js" defer></script>